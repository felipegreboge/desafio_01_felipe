<!DOCTYPE html>

<html lang="pt-br">
    
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="utf-8">
        <title>Listagem de tarefas completas</title>
    </head>
    
    <meta charset="utf-8">
    <link href="./style.css" type="text/css" rel="stylesheet" />
    
    <body>



        <div class="divtarefas">

            <div class="listatarefaheader">

                Lista de Tarefas:
                
        </div>


            <div class="blocodetarefas" id="blocodetarefas"> 

               
                

                
            </div>

            <button class="botaoenviotarefa" type="submit" id="botaoenviotarefa">Listar tarefas concluídas >></button>

        </div>

        <br>

        <div class="divtarefas">

            <div class="listatarefaheader">

                Tarefas concluídas:
                
            </div>

            <div class="blocodetarefasl" id="blocodetarefasl"> 
                    
                <div class="textotarefasfeitas" id="textotarefasfeitas">

                </div>

            </div>

            <div class="blocodetarefasr" id="blocodetarefasr"> 

                <div class="statuscheck" id ="statuscheck">
                    
                </div>

            </div>

            <button class="botaolimpartarefa" type="submit"...
            id="botaolimpar">Limpar lista >></button>

        <div class="novatarefaform">

            <form id="forminput" class="forminput"> 

                <input type="text" id="inputdetexto" class ="inputdetexto" placeholder="Nova Atividade Aqui!">
                <br>
                <button class="botaoenviotarefanova" type="submit" id="botaoenvionovatarefa">Adicionar Nova Tarefa >></button>
            </form>
        </div>


        </div>



        <script>
            
            var elementid = [];

            var eletest1 = [];

            function criartarefa(){
                let newtarefa =""
                newtarefa = document.getElementById("inputdetexto").value
                console.log(newtarefa)
                elementid.push(newtarefa)
                console.log(elementid)

                for(var kk = 0; kk < elementid.length; kk++){
                eletest1[kk] = `${elementid[kk]}:<input class="form-check-checkpos" 
                type="checkbox" id="${elementid[kk]}" name="${elementid[kk]}" value="${elementid[kk]}"><br>`
            
                console.log(eletest1)
                
                }
                document.getElementById("blocodetarefas").innerHTML = eletest1
                
            }

            function checkifchecked(){

                var tarefachecked = []

                for(var i = 0; i < elementid.length; i++){
                    var checkado = document.getElementById(elementid[i]).checked;
                    if(checkado){
                        tarefachecked[i] = document.getElementById(elementid[i]).value;
                    }
                }

                var tarefasclear = tarefachecked.filter(function(){return true});
                let itensfiltradoshtml = '';
                let itemscheckados = '';
                var b = ''
                for(var j = 0; j < tarefasclear.length; j++){
                    itensfiltradoshtml += 
                    `<div id="textotarefasfeitas">${tarefasclear[j]}:</div>`
                    itemscheckados +=
                    `<div class="statuscheck" id = "statuscheck"> <input class="form-check-checkpos2" type="checkbox" id="idcheckboxresp" checked = "checked"></div><br>`

                    document.getElementById("textotarefasfeitas").innerHTML = itensfiltradoshtml
                    document.getElementById("statuscheck").innerHTML = itemscheckados
                }
            }

            document.getElementById('botaoenvionovatarefa').onclick = (e)=>{
                e.preventDefault();
                criartarefa();
            }

            document.getElementById('botaoenviotarefa').onclick = (e)=>{
                e.preventDefault();
                checkifchecked();
            }

            function clearlista(){
                for(var i = 0; i < elementid.length; i++){
                    document.getElementById(elementid[i]).checked = false;
                }
            }

            document.getElementById('botaolimpar').onclick = (e)=>{
                e.preventDefault();

                clearlista();
                checkifchecked();

                document.getElementById("textotarefasfeitas").innerHTML = null
                document.getElementById("statuscheck").innerHTML = null
                document.getElementById("blocodetarefas").innerHTML = null


            }
        </script>




    </body>


</html>
